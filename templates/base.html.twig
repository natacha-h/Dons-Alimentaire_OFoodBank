<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        
        <title>{% block title %}Welcome!{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
        {# Css Fontawesome #}
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
        {# Css Bootstrap #}
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        {# Notre css #}
        <link rel="stylesheet" href="{{ asset('css/style.css')}}">
        {% block stylesheets %}{% endblock %}
    </head>
    <body class="container-fluid">
        {# header #}
        <header class="position-relative">
            <div class=" container d-flex flex-column flex-lg-row align-items-center justify-content-between"> {# ici le bloc avec le logo , la mini-nav Association/Commerçant et barre de recherche #}
                <div id="logo" class="mt-3">
                    <a href="{{ path('main_index') }}"><img src="{{asset('pictures/logo-ofoodbank.png')}} " alt="Logo O'FoodBank"></a>
                </div>
                <nav>
                    <ul class="d-flex flex-row align-items-center nav">
                        <li class="nav-item col-12 col-md-2 text-center">
                            <p class="mb-0 mr-0">Je suis...</p>
                        </li>
                        <li>
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                            <a class="nav-link circle-text" href="{{ path('user_show', {'id': app.user.id })}}"><div>une association</div></a>
                        {% else %}
                            <a class="nav-link circle-text" href="{{path('user_inscription', {'role': 'association'})}}"><div>une association</div></a>
                        {% endif %}
                        </li>
                        <li class="nav-item col-6 col-md-5">
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                            <a class="nav-link circle-text" href="{{ path('user_show', {'id': app.user.id })}}"><div>un commerçant</div></a>
                        {% else %}
                            <a class="nav-link circle-text" href="{{path('user_inscription', {'role': 'commercant'})}}"><div>un commerçant</div></a>
                        {% endif %}
                        </li>                        
                    </ul>
                </nav>

            </div>
            {% block picture_header %}
            {# Cacher la div en mobile : class="d-none d-md-block" #}
                <div id="header-pic">
                    <img src="" alt="">
                </div>                        
            {% endblock %}               
                
        </header>

        {# Menu ici pour la classe sticky-top #}
        <div class="sticky-top">
            {% include 'nav/_main-nav.html.twig' %}
        </div>

        {# Contenu principal #}
        <main class="container">
        {# ajout des flash Messages #}
        {% for label, messages in app.flashes %} {# pour toutes les keys "label" et "messages" du tableau de flasMessage #}
            {% for message in messages %} {# pour chaque message de la clé "messages" courante #}
                <div class="alert alert-{{label}}"> {# j'utilise la key "label" pour compléter la class du message#}
                    {{ message }} {# j'affiche le message #}
                </div>                
            {% endfor %}
        {% endfor %}

        {% block body %}

        {% endblock %}
        </main>
        <footer id="footer-gradient" class="d-flex flex-column flex-lg-row justify-content-around align-items-center px-2">
                <ul class=" container nav d-flex flex-column flex-lg-row align-items-center justify-content-between w-100 my-3">
                    <li class="nav-item text-lg-left text-sm-center ">
                        <a href="{{path('main_index')}}"><img src="{{asset('pictures/logo-ofoodbank.png')}}" class="img-fluid w-50" alt="Logo O'FoodBank"></a> {# logo #}
                    </li>  
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="{{path('main_about')}}">Qui sommes nous ?</a>
                    </li> 
                    <li class="nav-item d-flex flex-column text-center ">
                        <p class="mb-0">
                            Suivez-nous
                        </p>
                        <ul class="nav">
                            <li class="nav-item">
                                <a class="nav-link text-dark" href="#">
                                    <i class="fab fa-2x fa-facebook-square"></i>
                                </a>
                            </li>                        
                            <li class="nav-item">
                                <a class="nav-link text-dark" href="#">
                                    <i class="fab fa-2x fa-twitter-square"></i>
                                </a>
                            </li>                        
                            <li class="nav-item">
                                <a class="nav-link text-dark" href="#">
                                    <i class="fab fa-2x fa-linkedin"></i>                        
                                </a>
                            </li>                        
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="{{path('main_contact')}}">Contact</a>
                    </li>                                              
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="{{path('main_legalMentions')}}">Mentions légales</a>
                    </li>                         
                </ul>
        </footer>
        {# JS Bootstrap #}
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        {# JS Custom #}
        <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
        <script src="{{asset('js/app.js')}}"></script>
    
        {% block javascripts %}{% endblock %}
    </body>
</html>


